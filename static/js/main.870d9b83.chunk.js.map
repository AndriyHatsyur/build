{"version":3,"sources":["providers/ApolloClientProvider.js","providers/ModalProvider.js","components/Layouts.js","providers/UserProvider.js","components/AppMenu.js","components/MainLayout.js","components/Button.js","components/Form.js","pages/price/ProductForm/ProductForm.js","pages/price/ProductForm/utils.js","pages/price/ProductForm/AddProductForm.js","pages/price/ProductForm/EditProductForm.js","components/ProductShortTable.js","pages/price/ProductSetForm.js/ProductSetForm.js","pages/price/ProductSetForm.js/AddProductSetForm.js","pages/price/ProductSetForm.js/EditProductSetForm.js","pages/price/UpdatePrice/UpdatePrice.js","pages/price/UpdatePrice/UpdatePriceExcel.js","hook/useCinfirmModal.js","pages/price/PriceTable/priceTypes.js","pages/price/PriceTable/DeletePriceBtn.js","pages/price/PriceTable/ExcelExport.js","pages/price/PriceTable/priceTableUtils.js","pages/price/PriceTable/textFilter.js","pages/price/PriceTable/PriceTable.js","pages/category/CategoryForm/CategoryForm.js","pages/category/CategoryForm/utils.js","pages/category/CategoryForm/EditCategoryForm.js","pages/category/CategoryForm/AddCategoryForm.js","pages/category/CategoryTable/DeleteCategoryBtn.js","pages/category/CategoryTable/CategoryTable.js","pages/login/LoginForm.js","pages/login/LoginPage.js","routes/config.js","pages/price/PricePage.js","pages/category/CategoryPage.js","pages/price/PublicPricePage.js","routes/AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["httpLink","createHttpLink","uri","process","authLink","setContext","_","headers","token","localStorage","getItem","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","ApolloClientProvider","children","ApolloProvider","ModalContext","React","createContext","ModalProvider","useState","isModalVisible","setIsModalVisible","modalConfig","setModalConfig","modalContent","setModalContent","showModal","content","title","width","handleCancel","useModal","Provider","value","visible","onCancel","footer","useModalContext","useContext","Wrapper","styled","div","UserContext","UserProvider","user","setUser","userLogin","userLogout","removeItem","useUser","useUserContext","ExitBtn","AppMenu","location","useLocation","pathname","current","setCurrent","navigate","useNavigate","onClick","e","key","selectedKeys","mode","theme","Item","routes","home","category","style","marginLeft","login","ME_QUERY","gql","ButtonWrapper","DeleteButton","DeleteOutlined","color","EditButton","EditOutlined","requiredRule","required","message","SubmitBtnItem","type","htmlType","MarkupInputItem","label","name","min","ArticleInputItem","rules","getSubcategories","R","categoryId","subcategories","FlexWrapper","useCategoryId","initialValues","setCategoryId","onValuesChange","CategorySelectItem","useQuery","CATEGORIES_QUERY","fetchPolicy","data","loading","categories","showSearch","filterOption","input","option","toLowerCase","indexOf","map","_id","Option","allowClear","ProductForm","onFinish","layout","isSubcategoryNill","removeSubcategoriIsNeed","prepareCategoryId","prepareProductInitialValues","prepareProductBeforeSubmit","subcategoryId","ADD_PRODUCT_MUTATION","AddProductForm","closeModal","refetch","useMutation","addProduct","handleSubmit","values","a","variables","alert","UPDATE_PRODUCT_MUTATION","PRODUCT_QUERY","EditProductForm","id","updateProduct","update","ProductShortTable","products","dataSource","columns","dataIndex","pagination","rowKey","findSelectetdProduct","ids","filterSelectedProducts","SEARCH_PRODUCTS","ProductSelectItem","initialProducts","selectedProducts","setSelectedProducts","search","setSearch","skip","length","onChange","productIds","onSearch","product","nomenclature","ProductSetForm","ADD_PRODUCT_SET_MUTATION","AddProductSetForm","addProductSet","UPDATE_PRODUCT_SET_MUTATION","PRODUCT_SET_QUERY","getInitialValues","EditProductSetForm","updateProductSet","BtnWrapper","UPDATE_PRODUCTS","CREATE_PRODUCTS","UpdatePrice","updateProductsItems","diffProducts","setNewPrice","createProducts","updateProducts","handleUpdateProducts","res","count","handleCreateAndUpdate","resCreate","resUpdate","countUpdate","countcareate","disabled","HiddenInput","preparePrice","article","parseInt","price","parseFloat","prepareOldPrice","UpdatePriceExcel","oldProductPrice","newPrice","ref","useRef","oldPrice","useMemo","nomencaltureDiff","getNomenclatureItemsDiff","nomenclatures","files","target","reader","FileReader","rABS","readAsBinaryString","onload","bstr","result","wb","XLSX","read","bookVBA","wsname","SheetNames","ws","Sheets","utils","sheet_to_json","preparedData","readAsArrayBuffer","click","confirm","Modal","useConfirmDeleteModal","titleName","handleConfirm","icon","ExclamationCircleOutlined","okText","okType","cancelText","onOk","priceTypes","DELETE_PRODUCT_MUTATION","DELETE_PRODUCTSET_MUTATION","DeletePriceBtn","DELETE_MUTATION","priceId","deletePice","showDeleteConfirmModal","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","ExcelExport","element","ExcelExportPublick","EMPTT_VALUE","getMarkup","fixedFloat","to","calculateMarkup","markup","isNotHaveMarkup","findProductSubCategory","undefined","isSubCategoryNotHaveMarkup","calculateSellingPrice","commonProductFields","subcategory","preparepProductData","wholesalePrice","Math","round","dropPrice","sellingPrice","getProducts","preparedProductSetData","b","getCategoriesOptions","subCategories","getCategoryFiletrOptions","text","SearchFilter","setSelectedKeys","clearFilters","padding","placeholder","onPressEnter","marginBottom","display","SearchOutlined","size","getColumnSearchProps","filterDropdown","props","filterIcon","filtered","onFilter","record","toString","includes","categoryFragment","productFragment","PRODUCTS_QUERY","CATEGORY_QUERY","PriceTable","categoriesData","productData","productSetsData","columnsConfig","sorter","localeCompare","filters","render","showEditPriceModal","showTotal","total","CategoryForm","List","fields","add","remove","field","align","noStyle","shouldUpdate","prevValues","curValues","area","sights","fieldKey","MinusCircleOutlined","block","PlusOutlined","isCategoryNotHaveSubcategory","prepareCategory","prepareSubcategory","populateSubcategoryWithId","uuidv4","populateSubcategoryWithIdIfNeed","prepareCreateCategoryBeforSubmit","prepareUpdateCategoryBeforSubmit","prepareCategoryIntialValues","UPDATE_CATEGORY_MUTATION","EditCategoryForm","updateCategory","updateCategoryId","ADD_CATEGORY_MUTATION","AddCategoryForm","addCategory","DELETE_CATEGORY_MUTATION","DeleteCategoryBtn","categoryName","deleteCategory","isSubcategory","prepareCategoryData","CategoryTable","showEditCategoryModal","LOGIN_MUTATION","LoginForm","response","setItem","setTimeout","labelCol","span","wrapperCol","remember","autoComplete","Password","offset","routesConfig","Layout","rootPath","path","Component","index","AppRouter","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.870d9b83.chunk.js","sourcesContent":["import {\n  ApolloClient,\n  InMemoryCache,\n  createHttpLink,\n  ApolloProvider,\n} from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\n\nconst httpLink = createHttpLink({\n  uri: process.env.REACT_APP_SEVER_URL || \"http://localhost:3100/graphql\",\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(\"token\");\n  return {\n    headers: {\n      ...headers,\n      authorization: token || \"\",\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nexport const ApolloClientProvider = ({ children }) => (\n  <ApolloProvider client={client}>{children}</ApolloProvider>\n);\n","import React, { useContext, useState } from \"react\";\nimport { Modal } from \"antd\";\n\nconst useModal = () => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [modalConfig, setModalConfig] = useState({});\n  const [modalContent, setModalContent] = useState(null);\n\n  const showModal = ({ content, title, width }) => {\n    setIsModalVisible(true);\n    setModalContent(content);\n    setModalConfig({ title, width });\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    setModalContent(null);\n    setModalConfig({});\n  };\n\n  return {\n    isModalVisible,\n    showModal,\n    handleCancel,\n    modalConfig,\n    modalContent,\n  };\n};\n\nconst ModalContext = React.createContext({});\n\nexport const ModalProvider = ({ children }) => {\n  const { isModalVisible, showModal, handleCancel, modalConfig, modalContent } =\n    useModal();\n\n  return (\n    <ModalContext.Provider\n      value={{\n        isModalVisible,\n        showModal,\n        handleCancel,\n        modalConfig,\n      }}\n    >\n      {children}\n      {isModalVisible && (\n        <Modal\n          title={modalConfig.title}\n          visible={isModalVisible}\n          onCancel={handleCancel}\n          footer={null}\n          width={modalConfig.width}\n        >\n          {modalContent}\n        </Modal>\n      )}\n    </ModalContext.Provider>\n  );\n};\n\nexport const useModalContext = () => {\n  const modalContext = useContext(ModalContext);\n  return modalContext;\n};\n","import { Outlet } from \"react-router\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const LoginLayout = () => {\n  return (\n    <Wrapper>\n      <Outlet />\n    </Wrapper>\n  );\n};\n\nexport const EmptyLayout = () => {\n  return (\n    <div>\n      <Outlet />\n    </div>\n  );\n};\n","import React, { useContext, useState } from \"react\";\n\nconst useUser = () => {\n  const [user, setUser] = useState(null);\n\n  const userLogin = (user) => {\n    setUser(user);\n  };\n\n  const userLogout = () => {\n    setUser(null);\n    localStorage.removeItem(\"token\");\n  };\n\n  return {\n    user,\n    userLogin,\n    userLogout,\n  };\n};\n\nconst UserContext = React.createContext({});\n\nexport const UserProvider = ({ children }) => {\n  const { user, userLogin, userLogout } = useUser();\n\n  return (\n    <UserContext.Provider\n      value={{\n        user,\n        userLogin,\n        userLogout,\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport const useUserContext = () => {\n  const userContext = useContext(UserContext);\n  return userContext;\n};\n","import { Menu } from \"antd\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useUserContext } from \"../providers/UserProvider\";\n\nimport { routes } from \"../routes/config\";\n\nconst ExitBtn = styled.div`\n  cursor: pointer;\n  float: right;\n  &:hover {\n    color: #fff;\n  }\n`;\n\nexport const AppMenu = () => {\n  const location = useLocation();\n  const [current, setCurrent] = useState(location.pathname);\n\n  const { userLogout } = useUserContext();\n\n  const navigate = useNavigate();\n\n  const handleClick = (e) => {\n    setCurrent(e.key);\n    navigate(e.key);\n  };\n\n  return (\n    <Menu\n      onClick={handleClick}\n      selectedKeys={[current]}\n      mode=\"horizontal\"\n      theme=\"dark\"\n    >\n      <Menu.Item key={routes.home}>Прайс</Menu.Item>\n      <Menu.Item key={routes.category}>Категорії</Menu.Item>\n      <Menu.Item\n        style={{ marginLeft: \"auto\" }}\n        key={routes.login}\n        onClick={userLogout}\n      >\n        <ExitBtn>Вийти</ExitBtn>\n      </Menu.Item>\n    </Menu>\n  );\n};\n","import { Outlet } from \"react-router\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { useNavigate } from \"react-router\";\nimport * as R from \"ramda\";\n\nimport { AppMenu } from \"./AppMenu\";\nimport { routes } from \"../routes/config\";\nimport { useUserContext } from \"../providers/UserProvider\";\n\nconst ME_QUERY = gql`\n  query ME_QUERY {\n    me {\n      username\n    }\n  }\n`;\n\nexport const MainLayout = () => {\n  const { data, loading } = useQuery(ME_QUERY);\n  const navigate = useNavigate();\n\n  const { userLogin } = useUserContext();\n\n  if (loading) {\n    return null;\n  }\n\n  const user = R.propOr(null, \"me\", data);\n\n  if (!user) {\n    navigate(routes.login);\n  } else {\n    userLogin(user);\n  }\n\n  return (\n    <>\n      <AppMenu />\n      <Outlet />\n    </>\n  );\n};\n","import styled from \"styled-components\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\n\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  padding: 10px 15px;\n  gap: 12px;\n`;\n\nexport const DeleteButton = ({ onClick }) => (\n  <DeleteOutlined onClick={onClick} style={{ color: \"#ac372f\" }} />\n);\n\nexport const EditButton = ({ onClick }) => (\n  <EditOutlined onClick={onClick} style={{ color: \"#2a66c6\" }} />\n);\n","import { Form, Input, Button, InputNumber } from \"antd\";\n\nexport const requiredRule = {\n  required: true,\n  message: \"Це поле обов'язкове\",\n};\n\nexport const SubmitBtnItem = () => (\n  <Form.Item>\n    <Button type=\"primary\" htmlType=\"submit\">\n      Зберегти\n    </Button>\n  </Form.Item>\n);\n\nexport const MarkupInputItem = () => (\n  <Form.Item label=\"Націнка\" name=\"markup\">\n    <InputNumber min={0} />\n  </Form.Item>\n);\n\nexport const ArticleInputItem = () => (\n  <Form.Item label=\"Артикул\" name=\"article\" rules={[requiredRule]}>\n    <Input />\n  </Form.Item>\n);\n","import { useQuery } from \"@apollo/client\";\nimport { Form, Input, Select, InputNumber } from \"antd\";\nimport * as R from \"ramda\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport {\n  ArticleInputItem,\n  MarkupInputItem,\n  requiredRule,\n  SubmitBtnItem,\n} from \"../../../components/Form\";\nimport { CATEGORIES_QUERY } from \"../../category/CategoryTable/CategoryTable\";\n\n// getSubcategories :: Category -> Subcategory Null\nconst getSubcategories = R.curry((categoryId, subcategories) =>\n  R.compose(\n    R.propOr(null, \"subcategories\"),\n    R.find(R.propEq(\"_id\", categoryId))\n  )(subcategories)\n);\n\nconst FlexWrapper = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  gap: 30px;\n`;\n\nexport const useCategoryId = (initialValues) => {\n  const [categoryId, setCategoryId] = useState(initialValues.categoryId);\n\n  const onValuesChange = (_, { categoryId }) => {\n    if (categoryId) {\n      setCategoryId(categoryId);\n    }\n  };\n\n  return {\n    categoryId,\n    onValuesChange,\n  };\n};\n\nexport const CategorySelectItem = ({ categoryId }) => {\n  const { data, loading } = useQuery(CATEGORIES_QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n\n  const categories = R.propOr([], \"categories\", data);\n\n  if (loading) return null;\n\n  const subcategories = getSubcategories(categoryId, categories);\n\n  return (\n    <>\n      <Form.Item label=\"Категорія\" name=\"categoryId\" rules={[requiredRule]}>\n        <Select\n          showSearch\n          filterOption={(input, option) =>\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n          }\n        >\n          {categories.map(({ name, _id }) => (\n            <Select.Option key={_id} value={_id}>\n              {name}\n            </Select.Option>\n          ))}\n        </Select>\n      </Form.Item>\n      {subcategories && (\n        <Form.Item label=\"Підкатегорія\" name=\"subcategoryId\">\n          <Select\n            allowClear={true}\n            showSearch\n            filterOption={(input, option) =>\n              option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n            }\n          >\n            {subcategories.map(({ name, _id }) => (\n              <Select.Option key={_id} value={_id}>\n                {name}\n              </Select.Option>\n            ))}\n          </Select>\n        </Form.Item>\n      )}\n    </>\n  );\n};\n\nexport const ProductForm = ({ onFinish, initialValues = {} }) => {\n  const { categoryId, onValuesChange } = useCategoryId(initialValues);\n\n  return (\n    <Form\n      onValuesChange={onValuesChange}\n      name=\"productForm\"\n      onFinish={onFinish}\n      layout={\"vertical\"}\n      initialValues={initialValues}\n    >\n      <Form.Item\n        label=\"Номенклатура\"\n        name=\"nomenclature\"\n        rules={[requiredRule]}\n      >\n        <Input />\n      </Form.Item>\n      <ArticleInputItem />\n      <FlexWrapper>\n        <Form.Item label=\"Залишок\" name=\"count\" rules={[requiredRule]}>\n          <InputNumber min={0} />\n        </Form.Item>\n        <Form.Item label=\"Закупка\" name=\"price\" rules={[requiredRule]}>\n          <InputNumber min={0} />\n        </Form.Item>\n        <MarkupInputItem />\n      </FlexWrapper>\n\n      <CategorySelectItem categoryId={categoryId} />\n      <SubmitBtnItem />\n    </Form>\n  );\n};\n","import * as R from \"ramda\";\n\n// isSubcategoryNill :: Category -> Boolean\nconst isSubcategoryNill = R.compose(R.isNil, R.prop(\"subcategoryId\"));\n\n// removeSubcategoriIsNeed :: ProductFormData -> ProductInput\nexport const removeSubcategoriIsNeed = R.when(\n  isSubcategoryNill,\n  R.dissoc(\"subcategoryId\")\n);\n\nexport const prepareCategoryId = R.converge(R.mergeRight, [\n  R.identity,\n  R.applySpec({\n    categoryId: R.path([\"category\", \"_id\"]),\n  }),\n]);\n\n// prepareProductInitialValues :: QueryProductData -> InitialProductValue\nexport const prepareProductInitialValues = R.compose(\n  prepareCategoryId,\n  R.dissoc(\"__typename\"),\n  R.propOr({}, \"product\")\n);\n\n// prepareProductBeforeSubmit :: ProductFormData -> ProductInput\nexport const prepareProductBeforeSubmit = R.when(\n  isSubcategoryNill,\n  R.mergeLeft({ subcategoryId: null })\n);\n","import { useMutation, gql } from \"@apollo/client\";\n\nimport { ProductForm } from \"./ProductForm\";\nimport { removeSubcategoriIsNeed } from \"./utils\";\n\nconst ADD_PRODUCT_MUTATION = gql`\n  mutation createProduct($input: ProductInput!) {\n    createProduct(input: $input) {\n      _id\n    }\n  }\n`;\n\nexport const AddProductForm = ({ closeModal, refetch }) => {\n  const [addProduct] = useMutation(ADD_PRODUCT_MUTATION);\n\n  const handleSubmit = async (values) => {\n    try {\n      await addProduct({\n        variables: {\n          input: removeSubcategoriIsNeed(values),\n        },\n      });\n      closeModal();\n      refetch();\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  return <ProductForm onFinish={handleSubmit} />;\n};\n","import { useMutation, useQuery, gql } from \"@apollo/client\";\n\nimport { ProductForm } from \"./ProductForm\";\nimport {\n  prepareProductBeforeSubmit,\n  prepareProductInitialValues,\n} from \"./utils\";\n\nconst UPDATE_PRODUCT_MUTATION = gql`\n  mutation updateProduct($id: ID!, $update: ProductInput!) {\n    updateProduct(id: $id, update: $update) {\n      _id\n    }\n  }\n`;\n\nconst PRODUCT_QUERY = gql`\n  query product($id: ID!) {\n    product(id: $id) {\n      _id\n      nomenclature\n      article\n      count\n      price\n      subcategoryId\n      markup\n      category {\n        _id\n        name\n        markup\n        subcategories {\n          _id\n          name\n          markup\n        }\n      }\n    }\n  }\n`;\n\nexport const EditProductForm = ({ id, closeModal, refetch }) => {\n  const [updateProduct] = useMutation(UPDATE_PRODUCT_MUTATION);\n\n  const { data, loading } = useQuery(PRODUCT_QUERY, {\n    variables: { id },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) return null;\n\n  const initialValues = prepareProductInitialValues(data);\n\n  const handleSubmit = async (values) => {\n    try {\n      await updateProduct({\n        variables: {\n          id,\n          update: prepareProductBeforeSubmit(values),\n        },\n      });\n      closeModal();\n      refetch();\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  return <ProductForm onFinish={handleSubmit} initialValues={initialValues} />;\n};\n","import { Table } from \"antd\";\n\nexport const ProductShortTable = ({ products }) => {\n  const columns = [\n    {\n      title: \"Номенклатура\",\n      dataIndex: \"nomenclature\",\n    },\n    {\n      title: \"Артикул\",\n      dataIndex: \"article\",\n    },\n    {\n      title: \"Залишок\",\n      dataIndex: \"count\",\n    },\n    {\n      title: \"Закупка\",\n      dataIndex: \"price\",\n    },\n  ];\n\n  return (\n    <Table\n      dataSource={products}\n      columns={columns}\n      pagination={false}\n      rowKey=\"nomenclature\"\n    />\n  );\n};\n","import { useQuery, gql } from \"@apollo/client\";\nimport { Form, Input, Select } from \"antd\";\nimport * as R from \"ramda\";\nimport { useState } from \"react\";\n\nimport {\n  ArticleInputItem,\n  requiredRule,\n  SubmitBtnItem,\n} from \"../../../components/Form\";\nimport { ProductShortTable } from \"../../../components/ProductShortTable\";\nimport { CategorySelectItem, useCategoryId } from \"../ProductForm/ProductForm\";\n\n// findSelectetdProduct :: [ID] -> [Products] -> Product\nconst findSelectetdProduct = R.curry((ids, products) =>\n  R.find(R.propEq(\"_id\", R.last(ids)), products)\n);\n\nconst filterSelectedProducts = R.curry((ids, products) =>\n  R.filter(R.compose(R.includes(R.__, ids), R.prop(\"_id\")), products)\n);\n\nconst SEARCH_PRODUCTS = gql`\n  query productsSearch($search: String!) {\n    productsSearch(search: $search) {\n      _id\n      nomenclature\n      article\n      price\n      count\n    }\n  }\n`;\n\nconst ProductSelectItem = ({ initialProducts }) => {\n  const [selectedProducts, setSelectedProducts] = useState(initialProducts);\n\n  const [search, setSearch] = useState(\"\");\n\n  const { data } = useQuery(SEARCH_PRODUCTS, {\n    variables: {\n      search,\n    },\n    skip: search.length < 3,\n  });\n\n  const products = R.uniq([\n    ...R.propOr([], \"productsSearch\", data),\n    ...initialProducts,\n  ]);\n\n  const onSearch = (value) => {\n    setSearch(value);\n  };\n\n  const onChange = (productIds) => {\n    if (productIds.length > selectedProducts.length) {\n      setSelectedProducts([\n        ...selectedProducts,\n        findSelectetdProduct(productIds, products),\n      ]);\n    } else {\n      setSelectedProducts(filterSelectedProducts(productIds, selectedProducts));\n    }\n  };\n\n  return (\n    <>\n      <Form.Item label=\"Продукти\" name=\"productIds\" rules={[requiredRule]}>\n        <Select\n          onChange={onChange}\n          onSearch={onSearch}\n          mode=\"multiple\"\n          filterOption={(input, option) =>\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n          }\n        >\n          {products.map((product) => (\n            <Select.Option key={product._id} value={product._id}>\n              {product.nomenclature}\n            </Select.Option>\n          ))}\n        </Select>\n      </Form.Item>\n\n      <ProductShortTable products={selectedProducts} />\n      <br></br>\n    </>\n  );\n};\n\nexport const ProductSetForm = ({\n  onFinish,\n  initialValues = {},\n  initialProducts = [],\n}) => {\n  const { categoryId, onValuesChange } = useCategoryId(initialValues);\n  return (\n    <Form\n      name=\"productForm\"\n      onFinish={onFinish}\n      layout={\"vertical\"}\n      initialValues={initialValues}\n      onValuesChange={onValuesChange}\n    >\n      <Form.Item\n        label=\"Номенклатура\"\n        name=\"nomenclature\"\n        rules={[requiredRule]}\n      >\n        <Input />\n      </Form.Item>\n      <CategorySelectItem categoryId={categoryId} />\n      <ArticleInputItem />\n      <ProductSelectItem initialProducts={initialProducts} />\n      <SubmitBtnItem />\n    </Form>\n  );\n};\n","import { useMutation, gql } from \"@apollo/client\";\nimport { removeSubcategoriIsNeed } from \"../ProductForm/utils\";\n\nimport { ProductSetForm } from \"./ProductSetForm\";\n\nconst ADD_PRODUCT_SET_MUTATION = gql`\n  mutation createProductSet($input: ProductSetInput!) {\n    createProductSet(input: $input) {\n      _id\n    }\n  }\n`;\n\nexport const AddProductSetForm = ({ closeModal, refetch }) => {\n  const [addProductSet] = useMutation(ADD_PRODUCT_SET_MUTATION);\n\n  const handleSubmit = async (values) => {\n    await addProductSet({\n      variables: {\n        input: removeSubcategoriIsNeed(values),\n      },\n    });\n    closeModal();\n    refetch();\n  };\n\n  return <ProductSetForm onFinish={handleSubmit} />;\n};\n","import { useMutation, gql, useQuery } from \"@apollo/client\";\nimport * as R from \"ramda\";\nimport {\n  prepareCategoryId,\n  prepareProductBeforeSubmit,\n} from \"../ProductForm/utils\";\n\nimport { ProductSetForm } from \"./ProductSetForm\";\n\nconst UPDATE_PRODUCT_SET_MUTATION = gql`\n  mutation updateProductSet($id: ID!, $update: ProductSetInput!) {\n    updateProductSet(id: $id, update: $update) {\n      _id\n    }\n  }\n`;\n\nconst PRODUCT_SET_QUERY = gql`\n  query productSet($id: ID!) {\n    productSet(id: $id) {\n      _id\n      nomenclature\n      article\n      products {\n        _id\n        nomenclature\n        article\n        count\n        price\n      }\n      category {\n        _id\n        name\n        subcategories {\n          _id\n          name\n        }\n      }\n      subcategoryId\n    }\n  }\n`;\n\nconst getInitialValues = R.compose(\n  prepareCategoryId,\n  R.converge(R.mergeRight, [\n    R.identity,\n    R.compose(R.objOf(\"productIds\"), R.pluck(\"_id\"), R.propOr([], \"products\")),\n  ]),\n  R.propOr([], \"productSet\")\n);\n\nexport const EditProductSetForm = ({ id, closeModal, refetch }) => {\n  const [updateProductSet] = useMutation(UPDATE_PRODUCT_SET_MUTATION);\n\n  const { data, loading } = useQuery(PRODUCT_SET_QUERY, {\n    variables: { id },\n    fetchPolicy: \"network-only\",\n  });\n\n  if (loading) return null;\n\n  const initialProducts = R.pathOr([], [\"productSet\", \"products\"], data);\n\n  const initialValues = getInitialValues(data);\n\n  const handleSubmit = async (values) => {\n    await updateProductSet({\n      variables: {\n        id,\n        update: prepareProductBeforeSubmit(values),\n      },\n    });\n    closeModal();\n    refetch();\n  };\n\n  return (\n    <ProductSetForm\n      onFinish={handleSubmit}\n      initialValues={initialValues}\n      initialProducts={initialProducts}\n    />\n  );\n};\n","import { Button } from \"antd\";\nimport { ProductShortTable } from \"../../../components/ProductShortTable\";\nimport styled from \"styled-components\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport * as R from \"ramda\";\n\nconst BtnWrapper = styled.div`\n  padding: 15px 0;\n  display: flex;\n  gap: 10px;\n`;\n\nconst UPDATE_PRODUCTS = gql`\n  mutation updateProducts($update: [ProductsInput]!) {\n    updateProducts(update: $update)\n  }\n`;\n\nconst CREATE_PRODUCTS = gql`\n  mutation createProducts($input: [ProductsInput]!) {\n    createProducts(input: $input)\n  }\n`;\n\nexport const UpdatePrice = ({\n  updateProductsItems,\n  diffProducts,\n  setNewPrice,\n  closeModal,\n  refetch,\n}) => {\n  const [createProducts] = useMutation(CREATE_PRODUCTS);\n\n  const [updateProducts, { loading }] = useMutation(UPDATE_PRODUCTS);\n\n  const handleUpdateProducts = async () => {\n    const res = await updateProducts({\n      variables: {\n        update: updateProductsItems,\n      },\n    });\n    await refetch();\n    const count = R.pathOr(0, [\"data\", \"updateProducts\"], res);\n    alert(`Оновлено ${count} продуктів`);\n    setNewPrice([]);\n    closeModal();\n  };\n\n  const handleCreateAndUpdate = async () => {\n    const resCreate = await createProducts({\n      variables: {\n        input: diffProducts,\n      },\n    });\n\n    let resUpdate;\n    if (!R.isEmpty(updateProductsItems)) {\n      resUpdate = await updateProducts({\n        variables: {\n          update: updateProductsItems,\n        },\n      });\n    }\n\n    await refetch();\n    const countUpdate = R.pathOr(0, [\"data\", \"updateProducts\"], resUpdate);\n    const countcareate = R.pathOr(0, [\"data\", \"createProducts\"], resCreate);\n\n    alert(`Оновлено ${countUpdate} продуктів та створено ${countcareate} `);\n    setNewPrice([]);\n    closeModal();\n  };\n\n  return (\n    <>\n      <BtnWrapper>\n        <Button\n          disabled={R.isEmpty(diffProducts)}\n          loading={loading}\n          onClick={handleCreateAndUpdate}\n        >\n          Створити нові та оновити\n        </Button>\n        <Button\n          disabled={R.isEmpty(updateProductsItems)}\n          loading={loading}\n          onClick={handleUpdateProducts}\n        >\n          Тільки оновити існуючі\n        </Button>\n      </BtnWrapper>\n      <h3>Продукти яких немає у базі!</h3>\n      <ProductShortTable products={diffProducts} />\n    </>\n  );\n};\n","import { useMemo, useRef, useState } from \"react\";\nimport XLSX from \"xlsx\";\nimport * as R from \"ramda\";\nimport { Button } from \"antd\";\nimport styled from \"styled-components\";\n\nimport { UpdatePrice } from \"./UpdatePrice\";\n\nconst HiddenInput = styled.input`\n  opacity: 0;\n  width: 0;\n  height: 0;\n`;\n\nconst preparePrice = R.map(\n  R.applySpec({\n    nomenclature: R.propOr(\"\", \"Номенклатура\"),\n    article: R.propOr(\"\", \"Артикул\"),\n    count: R.compose(parseInt, R.propOr(0, \"Залишок\")),\n    price: R.compose(parseFloat, R.propOr(0, \"Закупка\")),\n  })\n);\n\nconst prepareOldPrice = R.map(\n  R.pick([\"nomenclature\", \"article\", \"count\", \"price\"])\n);\n\nconst filterNewItemsDiff = (nomenclatures) =>\n  R.filter(R.compose(R.includes(R.__, nomenclatures), R.prop(\"article\")));\n\nconst filterNewItemsWithOutDiff = (nomenclatures) =>\n  R.filter(\n    R.compose(R.not, R.includes(R.__, nomenclatures), R.prop(\"article\"))\n  );\n\nconst getNomenclatureItemsDiff = (oldPrice, newPrice) =>\n  R.ifElse(\n    R.isEmpty,\n    R.always([]),\n    R.converge(R.difference, [\n      R.pluck(\"article\"),\n      R.always(R.pluck(\"article\", oldPrice)),\n    ])\n  )(newPrice);\nexport const UpdatePriceExcel = ({ oldProductPrice, closeModal, refetch }) => {\n  const [newPrice, setNewPrice] = useState([]);\n\n  const ref = useRef();\n\n  const oldPrice = useMemo(\n    () => prepareOldPrice(oldProductPrice),\n    [oldProductPrice]\n  );\n\n  const nomencaltureDiff = useMemo(\n    () => getNomenclatureItemsDiff(oldPrice, newPrice),\n    [newPrice, oldPrice]\n  );\n\n  const diffProducts = useMemo(\n    () => filterNewItemsDiff(nomencaltureDiff)(newPrice),\n    [newPrice, nomencaltureDiff]\n  );\n\n  const updateProductsItems = useMemo(\n    () => filterNewItemsWithOutDiff(nomencaltureDiff)(newPrice),\n    [newPrice, nomencaltureDiff]\n  );\n\n  const tiggerInput = () => ref.current.click();\n\n  const handleChange = (e) => {\n    const files = e.target.files;\n\n    if (files && files[0]) {\n      const reader = new FileReader();\n      const rABS = !!reader.readAsBinaryString;\n\n      reader.onload = (e) => {\n        const bstr = e.target.result;\n        const wb = XLSX.read(bstr, {\n          type: rABS ? \"binary\" : \"array\",\n          bookVBA: true,\n        });\n\n        const wsname = wb.SheetNames[0];\n        const ws = wb.Sheets[wsname];\n        const data = XLSX.utils.sheet_to_json(ws);\n        const preparedData = preparePrice(data);\n        setNewPrice(preparedData);\n      };\n\n      if (rABS) {\n        reader.readAsBinaryString(files[0]);\n      } else {\n        reader.readAsArrayBuffer(files[0]);\n      }\n    }\n  };\n\n  return (\n    <>\n      <HiddenInput ref={ref} type=\"file\" onChange={handleChange} />\n      <Button onClick={tiggerInput}>Вибрати файл</Button>\n      <UpdatePrice\n        updateProductsItems={updateProductsItems}\n        diffProducts={diffProducts}\n        setNewPrice={setNewPrice}\n        closeModal={closeModal}\n        refetch={refetch}\n      />\n    </>\n  );\n};\n","import { Modal } from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\n\nconst { confirm } = Modal;\n\nexport const useConfirmDeleteModal = (titleName, handleConfirm, refetch) => {\n  return () =>\n    confirm({\n      title: `Ви впевнені що хочите видалити ${titleName}`,\n      icon: <ExclamationCircleOutlined />,\n      okText: \"Так\",\n      okType: \"danger\",\n      cancelText: \"Ні\",\n      onOk: async () => {\n        try {\n          await handleConfirm();\n          await refetch();\n        } catch (e) {\n          alert(e);\n        }\n      },\n    });\n};\n","export const priceTypes = {\n  PRODUCT: \"Продукт\",\n  PRODUCT_SET: \"Набір\",\n};\n","import { useMutation, gql } from \"@apollo/client\";\n\nimport { DeleteButton } from \"../../../components/Button\";\nimport { useConfirmDeleteModal } from \"../../../hook/useCinfirmModal\";\nimport { priceTypes } from \"./priceTypes\";\n\nconst DELETE_PRODUCT_MUTATION = gql`\n  mutation deleteProduct($priceId: ID!) {\n    deleteProduct(id: $priceId)\n  }\n`;\n\nconst DELETE_PRODUCTSET_MUTATION = gql`\n  mutation deleteProductSet($priceId: ID!) {\n    deleteProductSet(id: $priceId)\n  }\n`;\n\nexport const DeletePriceBtn = ({ id, nomenclature, refetch, type }) => {\n  const DELETE_MUTATION =\n    type === priceTypes.PRODUCT\n      ? DELETE_PRODUCT_MUTATION\n      : DELETE_PRODUCTSET_MUTATION;\n\n  const [deletePice] = useMutation(DELETE_MUTATION, {\n    variables: { priceId: id },\n  });\n\n  const showDeleteConfirmModal = useConfirmDeleteModal(\n    nomenclature,\n    deletePice,\n    refetch\n  );\n\n  return <DeleteButton onClick={showDeleteConfirmModal} />;\n};\n","import { Button } from \"antd\";\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nexport const ExcelExport = ({ price }) => {\n  return (\n    <ExcelFile element={<Button type=\"primary\">Excel Export</Button>}>\n      <ExcelSheet data={price} name=\"Price\">\n        <ExcelColumn label=\"Номенклатура\" value=\"nomenclature\" />\n        <ExcelColumn label=\"Артикул\" value=\"article\" />\n        <ExcelColumn label=\"Залишок\" value=\"count\" />\n        <ExcelColumn label=\"Закупка\" value=\"price\" />\n        <ExcelColumn label=\"Закупка дроп\" value=\"dropPrice\" />\n        <ExcelColumn label=\"Продаж\" value=\"sellingPrice\" />\n        <ExcelColumn label=\"Опт\" value=\"wholesalePrice\" />\n        <ExcelColumn label=\"Тип\" value=\"type\" />\n        <ExcelColumn label=\"Категорія\" value=\"category\" />\n        <ExcelColumn label=\"Під Категорія\" value=\"subcategory\" />\n      </ExcelSheet>\n    </ExcelFile>\n  );\n};\n\nexport const ExcelExportPublick = ({ price }) => {\n  return (\n    <ExcelFile element={<Button type=\"primary\">Excel Export</Button>}>\n      <ExcelSheet data={price} name=\"Price\">\n        <ExcelColumn label=\"Номенклатура\" value=\"nomenclature\" />\n        <ExcelColumn label=\"Артикул\" value=\"article\" />\n        <ExcelColumn label=\"Залишок\" value=\"count\" />\n        <ExcelColumn label=\"Закупка дроп\" value=\"dropPrice\" />\n        <ExcelColumn label=\"Продаж\" value=\"sellingPrice\" />\n        <ExcelColumn label=\"Опт\" value=\"wholesalePrice\" />\n        <ExcelColumn label=\"Тип\" value=\"type\" />\n        <ExcelColumn label=\"Категорія\" value=\"category\" />\n        <ExcelColumn label=\"Під Категорія\" value=\"subcategory\" />\n      </ExcelSheet>\n    </ExcelFile>\n  );\n};\n","import * as R from \"ramda\";\n\nimport { priceTypes } from \"./priceTypes\";\n\nconst EMPTT_VALUE = \"-\";\n\nconst DROPSHIPPING_MARKUP = 10;\nconst WHOLESALE_MARKUP = -5;\n\n// getMarkup :: Product -> Number\nconst getMarkup = R.propOr(0, \"markup\");\n\n// fixedFloat :: Number -> Number -> Number\nconst fixedFloat = (to) => R.invoker(1, \"toFixed\")(to);\n\n// calculateMarkup :: Number -> Number\nconst calculateMarkup = R.curry((markup, price) =>\n  R.compose(\n    fixedFloat(2),\n    R.multiply(R.add(100, markup)),\n    R.divide(R.__, 100)\n  )(price)\n);\n\n// isNotHaveMarkup :: Object -> Boolean\nconst isNotHaveMarkup = R.compose(R.equals(0), getMarkup);\n\n// findProductSubCategory :: Product -> Subcategory\nconst findProductSubCategory = R.converge(R.find, [\n  R.compose(R.propEq(\"_id\"), R.propOr(undefined, \"subcategoryId\")),\n  R.pathOr([], [\"category\", \"subcategories\"]),\n]);\n\n// isSubCategoryNotHaveMarkup :: Product -> Boolean\nconst isSubCategoryNotHaveMarkup = R.compose(\n  isNotHaveMarkup,\n  findProductSubCategory\n);\n\n// calculateSellingPrice :: Product -> Number\nconst calculateSellingPrice = R.converge(calculateMarkup, [\n  R.ifElse(\n    isNotHaveMarkup,\n    R.ifElse(\n      isSubCategoryNotHaveMarkup,\n      R.pathOr(0, [\"category\", \"markup\"]),\n      R.compose(getMarkup, findProductSubCategory)\n    ),\n    getMarkup\n  ),\n  R.propOr(0, \"price\"),\n]);\n\nconst commonProductFields = {\n  _id: R.prop(\"_id\"),\n  nomenclature: R.propOr(EMPTT_VALUE, \"nomenclature\"),\n  article: R.propOr(EMPTT_VALUE, \"article\"),\n  category: R.pathOr(EMPTT_VALUE, [\"category\", \"name\"]),\n  subcategory: R.compose(R.propOr(EMPTT_VALUE, \"name\"), findProductSubCategory),\n};\n\n// preparepProductData :: ProductQueryData -> [PreparedProduct]\nexport const preparepProductData = R.compose(\n  R.map(\n    R.compose(\n      R.converge(R.mergeRight, [\n        R.identity,\n        R.applySpec({\n          wholesalePrice: R.compose(\n            Math.round,\n            calculateMarkup(WHOLESALE_MARKUP),\n            R.propOr(0, \"sellingPrice\")\n          ),\n        }),\n      ]),\n      R.applySpec({\n        ...commonProductFields,\n        count: R.propOr(EMPTT_VALUE, \"count\"),\n        price: R.propOr(EMPTT_VALUE, \"price\"),\n        dropPrice: R.compose(\n          parseFloat,\n          calculateMarkup(DROPSHIPPING_MARKUP),\n          R.propOr(0, \"price\")\n        ),\n        sellingPrice: R.compose(Math.round, calculateSellingPrice),\n        type: R.always(priceTypes.PRODUCT),\n      })\n    )\n  ),\n  R.propOr([], \"products\")\n);\n\nconst getProducts = R.propOr([], \"products\");\n\nconst diff = (a, b) => a - b;\n\nexport const preparedProductSetData = R.compose(\n  R.map(\n    R.applySpec({\n      ...commonProductFields,\n      price: R.compose(R.sum, R.pluck(\"price\"), getProducts),\n      count: R.compose(R.head, R.sort(diff), R.pluck(\"count\"), getProducts),\n      dropPrice: R.compose(\n        fixedFloat(2),\n        parseFloat,\n        R.sum,\n        R.pluck(\"dropPrice\"),\n        getProducts\n      ),\n      sellingPrice: R.compose(\n        Math.round,\n        R.sum,\n        R.pluck(\"sellingPrice\"),\n        getProducts\n      ),\n      wholesalePrice: R.compose(\n        fixedFloat(2),\n        R.sum,\n        R.pluck(\"wholesalePrice\"),\n        getProducts\n      ),\n      type: R.always(priceTypes.PRODUCT_SET),\n    })\n  ),\n  R.map(\n    R.converge(R.mergeRight, [\n      R.identity,\n      R.compose(R.objOf(\"products\"), preparepProductData),\n    ])\n  ),\n  R.propOr([], \"productSets\")\n);\n\nexport const getCategoriesOptions = R.compose(\n  R.applySpec({\n    categories: R.compose(R.uniq, R.pluck(\"name\")),\n    subCategories: R.compose(\n      R.reject(R.isNil),\n      R.uniq,\n      R.pluck(\"name\"),\n      R.unnest,\n      R.pluck(\"subcategories\")\n    ),\n  }),\n  R.propOr([], \"categories\")\n);\n\nexport const getCategoryFiletrOptions = R.compose(\n  R.append({\n    text: EMPTT_VALUE,\n    value: EMPTT_VALUE,\n  }),\n  R.map(\n    R.applySpec({\n      text: R.identity,\n      value: R.identity,\n    })\n  )\n);\n","import { Input, Button, Space } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\n\nconst SearchFilter = ({\n  setSelectedKeys,\n  selectedKeys,\n  confirm,\n  clearFilters,\n}) => {\n  return (\n    <div style={{ padding: 8 }}>\n      <Input\n        placeholder=\"Пошук\"\n        value={selectedKeys[0]}\n        onChange={(e) =>\n          setSelectedKeys(e.target.value ? [e.target.value] : [])\n        }\n        onPressEnter={() => confirm()}\n        style={{ marginBottom: 8, display: \"block\" }}\n      />\n      <Space>\n        <Button\n          type=\"primary\"\n          onClick={() => confirm()}\n          icon={<SearchOutlined />}\n          size=\"small\"\n          style={{ width: 90 }}\n        >\n          Знайти\n        </Button>\n        <Button\n          onClick={() => clearFilters()}\n          size=\"small\"\n          style={{ width: 90 }}\n        >\n          Очистити\n        </Button>\n      </Space>\n    </div>\n  );\n};\n\nexport const getColumnSearchProps = (dataIndex) => ({\n  filterDropdown: (props) => <SearchFilter {...props} />,\n  filterIcon: (filtered) => (\n    <SearchOutlined style={{ color: filtered ? \"#1890ff\" : undefined }} />\n  ),\n  onFilter: (value, record) =>\n    record[dataIndex]\n      ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\n      : \"\",\n});\n","import { useQuery, gql } from \"@apollo/client\";\nimport { Table, Button } from \"antd\";\nimport { ButtonWrapper, EditButton } from \"../../../components/Button\";\n\nimport { useModalContext } from \"../../../providers/ModalProvider\";\nimport { AddProductForm } from \"../ProductForm/AddProductForm\";\nimport { EditProductForm } from \"../ProductForm/EditProductForm\";\nimport { AddProductSetForm } from \"../ProductSetForm.js/AddProductSetForm\";\nimport { EditProductSetForm } from \"../ProductSetForm.js/EditProductSetForm\";\nimport { UpdatePriceExcel } from \"../UpdatePrice/UpdatePriceExcel\";\nimport { DeletePriceBtn } from \"./DeletePriceBtn\";\nimport { ExcelExport } from \"./ExcelExport\";\nimport {\n  preparepProductData,\n  preparedProductSetData,\n  getCategoriesOptions,\n  getCategoryFiletrOptions,\n} from \"./priceTableUtils\";\nimport { priceTypes } from \"./priceTypes\";\nimport { getColumnSearchProps } from \"./textFilter\";\n\nexport const categoryFragment = gql`\n  fragment categoryFragment on Category {\n    _id\n    name\n    markup\n    subcategories {\n      _id\n      name\n      markup\n    }\n  }\n`;\n\nexport const productFragment = gql`\n  fragment productFragment on Product {\n    _id\n    nomenclature\n    article\n    count\n    price\n    subcategoryId\n    markup\n    category {\n      ...categoryFragment\n    }\n  }\n  ${categoryFragment}\n`;\n\nexport const PRODUCTS_QUERY = gql`\n  query {\n    products {\n      ...productFragment\n    }\n    productSets {\n      _id\n      nomenclature\n      article\n      subcategoryId\n      category {\n        ...categoryFragment\n      }\n      products {\n        ...productFragment\n        category {\n          ...categoryFragment\n        }\n      }\n    }\n  }\n  ${productFragment},\n  ${categoryFragment}\n`;\n\nexport const CATEGORY_QUERY = gql`\n  query {\n    categories {\n      name\n      subcategories {\n        name\n      }\n    }\n  }\n`;\n\nexport const PriceTable = () => {\n  const { data, loading, refetch } = useQuery(PRODUCTS_QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n\n  const { data: categoriesData } = useQuery(CATEGORY_QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n\n  const { categories, subCategories } = getCategoriesOptions(categoriesData);\n\n  const productData = preparepProductData(data);\n  const productSetsData = preparedProductSetData(data);\n  const { showModal, handleCancel } = useModalContext();\n\n  const showAddProductForm = () =>\n    showModal({\n      title: \"Додати новий продукт\",\n      content: () => (\n        <AddProductForm closeModal={handleCancel} refetch={refetch} />\n      ),\n    });\n\n  const showAddProductSetForm = () =>\n    showModal({\n      title: \"Додати новий набір\",\n      width: 800,\n      content: () => (\n        <AddProductSetForm closeModal={handleCancel} refetch={refetch} />\n      ),\n    });\n\n  const showEditPriceModal = (id, { nomenclature, type }) => {\n    if (type === priceTypes.PRODUCT) {\n      showModal({\n        title: `Редагувати продукт ${nomenclature}`,\n        content: () => (\n          <EditProductForm\n            closeModal={handleCancel}\n            refetch={refetch}\n            id={id}\n          />\n        ),\n      });\n    } else {\n      showModal({\n        title: `Редагувати набір ${nomenclature}`,\n        width: 800,\n        content: () => (\n          <EditProductSetForm\n            closeModal={handleCancel}\n            refetch={refetch}\n            id={id}\n          />\n        ),\n      });\n    }\n  };\n\n  const showUpdateProductsModal = () => {\n    showModal({\n      title: \"Оновити продукти\",\n      width: 800,\n      content: () => (\n        <UpdatePriceExcel\n          oldProductPrice={productData}\n          closeModal={handleCancel}\n          refetch={refetch}\n        />\n      ),\n    });\n  };\n\n  const columnsConfig = [\n    {\n      title: \"Номенклатура\",\n      dataIndex: \"nomenclature\",\n      ...getColumnSearchProps(\"nomenclature\"),\n    },\n    {\n      title: \"Артикул\",\n      dataIndex: \"article\",\n\n      ...getColumnSearchProps(\"article\"),\n      sorter: (a, b) => a.article.localeCompare(b.article),\n    },\n    {\n      title: \"Залишок\",\n      dataIndex: \"count\",\n      sorter: (a, b) => b.count - a.count,\n    },\n    {\n      title: \"Закупка\",\n      dataIndex: \"price\",\n      sorter: (a, b) => b.price - a.price,\n    },\n    {\n      title: \"Закупка дроп\",\n      dataIndex: \"dropPrice\",\n      sorter: (a, b) => b.dropPrice - a.dropPrice,\n    },\n    {\n      title: \"Продаж\",\n      dataIndex: \"sellingPrice\",\n      sorter: (a, b) => b.sellingPrice - a.sellingPrice,\n    },\n    {\n      title: \"Опт\",\n      dataIndex: \"wholesalePrice\",\n      sorter: (a, b) => b.wholesalePrice - a.wholesalePrice,\n    },\n    {\n      title: \"Тип\",\n      dataIndex: \"type\",\n      filters: [\n        {\n          text: priceTypes.PRODUCT,\n          value: priceTypes.PRODUCT,\n        },\n        {\n          text: priceTypes.PRODUCT_SET,\n          value: priceTypes.PRODUCT_SET,\n        },\n      ],\n      onFilter: (value, { type }) => type === value,\n    },\n    {\n      title: \"Категорія\",\n      dataIndex: \"category\",\n      filters: getCategoryFiletrOptions(categories),\n      onFilter: (value, { category }) => category === value,\n    },\n    {\n      title: \"Під Категорія\",\n      dataIndex: \"subcategory\",\n      filters: getCategoryFiletrOptions(subCategories),\n      onFilter: (value, { subcategory }) => subcategory === value,\n    },\n    {\n      dataIndex: \"_id\",\n      render: (id, price) => (\n        <ButtonWrapper>\n          <EditButton onClick={() => showEditPriceModal(id, price)} />\n          <DeletePriceBtn\n            refetch={refetch}\n            id={id}\n            nomenclature={price.nomenclature}\n            type={price.type}\n          />\n        </ButtonWrapper>\n      ),\n    },\n  ];\n\n  return (\n    <>\n      <ButtonWrapper>\n        <Button type=\"primary\" onClick={showAddProductForm}>\n          Додати продукт\n        </Button>\n        <Button type=\"primary\" onClick={showAddProductSetForm}>\n          Додати набір\n        </Button>\n        <ExcelExport price={[...productData, ...productSetsData]} />\n\n        <Button type=\"primary\" onClick={showUpdateProductsModal}>\n          Оновити продукти\n        </Button>\n\n        <p>Продуктів: {productData.length} шт. </p>\n        <p>Наборів: {productSetsData.length} шт. </p>\n      </ButtonWrapper>\n\n      <Table\n        columns={columnsConfig}\n        dataSource={[...productData, ...productSetsData]}\n        loading={loading}\n        rowKey=\"_id\"\n        pagination={{ showTotal: (total) => `Кількість ${total} шт.` }}\n      />\n    </>\n  );\n};\n","import { Form, Input, Button, Space, InputNumber } from \"antd\";\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport {\n  MarkupInputItem,\n  requiredRule,\n  SubmitBtnItem,\n} from \"../../../components/Form\";\n\nexport const CategoryForm = ({ onFinish, initialValues = {} }) => {\n  return (\n    <Form\n      name=\"categoryForm\"\n      onFinish={onFinish}\n      layout={\"vertical\"}\n      initialValues={initialValues}\n    >\n      <Form.Item label=\"Назва\" name=\"name\" rules={[requiredRule]}>\n        <Input />\n      </Form.Item>\n      <MarkupInputItem />\n      <Form.List name=\"subcategories\">\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map((field) => (\n              <Space key={field.key} align=\"baseline\">\n                <Form.Item\n                  noStyle\n                  shouldUpdate={(prevValues, curValues) =>\n                    prevValues.area !== curValues.area ||\n                    prevValues.sights !== curValues.sights\n                  }\n                >\n                  {() => (\n                    <Form.Item\n                      {...field}\n                      label=\"Назва\"\n                      name={[field.name, \"name\"]}\n                      fieldKey={[field.fieldKey, \"sight\"]}\n                      rules={[requiredRule]}\n                    >\n                      <Input />\n                    </Form.Item>\n                  )}\n                </Form.Item>\n                <Form.Item\n                  {...field}\n                  label=\"Націнка\"\n                  name={[field.name, \"markup\"]}\n                  fieldKey={[field.fieldKey, \"markup\"]}\n                >\n                  <InputNumber />\n                </Form.Item>\n\n                <MinusCircleOutlined onClick={() => remove(field.name)} />\n              </Space>\n            ))}\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                block\n                icon={<PlusOutlined />}\n              >\n                Додати підкатегорію\n              </Button>\n            </Form.Item>\n          </>\n        )}\n      </Form.List>\n      <SubmitBtnItem />\n    </Form>\n  );\n};\n","import * as R from \"ramda\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n// isCategoryNotHaveSubcategory :: Category -> Boolean\nconst isCategoryNotHaveSubcategory = R.compose(\n  R.isNil,\n  R.prop(\"subcategories\")\n);\n\n// prepareCategory :: Function -> CategoryFormData -> SubmitCategory\nconst prepareCategory = (prepareSubcategory) =>\n  R.ifElse(\n    isCategoryNotHaveSubcategory,\n    R.dissoc(\"subcategories\"),\n    R.converge(R.mergeRight, [\n      R.identity,\n      R.compose(\n        R.objOf(\"subcategories\"),\n        R.map(prepareSubcategory),\n        R.prop(\"subcategories\")\n      ),\n    ])\n  );\n\n// populateSubcategoryWithId :: SubcategoryFormData -> SubcategoryInput\nconst populateSubcategoryWithId = R.applySpec({\n  _id: () => uuidv4(),\n  name: R.prop(\"name\"),\n  markup: R.prop(\"markup\"),\n});\n\n// populateSubcategoryWithIdIfNeed :: SubcategoryFormData -> SubcategoryUpdate\nconst populateSubcategoryWithIdIfNeed = R.ifElse(\n  R.compose(R.isNil, R.prop(\"_id\")),\n  populateSubcategoryWithId,\n  R.identity\n);\n\n// prepareCreateCategoryBeforSubmit :: FormDataInput -> CategoryInput\nexport const prepareCreateCategoryBeforSubmit = prepareCategory(\n  populateSubcategoryWithId\n);\n\n// prepareUpdateCategoryBeforSubmit :: FormDataInput -> CategoryUpdate\nexport const prepareUpdateCategoryBeforSubmit = prepareCategory(\n  populateSubcategoryWithIdIfNeed\n);\n\n// prepareCategoryIntialValues :: CategotyData -> CategoryIntialValues\nexport const prepareCategoryIntialValues = R.compose(\n  R.unless(\n    isCategoryNotHaveSubcategory,\n    R.converge(R.mergeRight, [\n      R.identity,\n      R.compose(\n        R.objOf(\"subcategories\"),\n        R.map(R.dissoc(\"__typename\")),\n        R.prop(\"subcategories\")\n      ),\n    ])\n  ),\n  R.dissoc(\"__typename\"),\n  R.propOr({}, \"category\")\n);\n","import { useMutation, gql, useQuery } from \"@apollo/client\";\n\nimport { categoryFragment } from \"../../price/PriceTable/PriceTable\";\nimport { CategoryForm } from \"./CategoryForm\";\nimport {\n  prepareCategoryIntialValues,\n  prepareUpdateCategoryBeforSubmit,\n} from \"./utils\";\n\nconst UPDATE_CATEGORY_MUTATION = gql`\n  mutation updateCategory($updateCategoryId: ID!, $update: CategoryInput!) {\n    updateCategory(id: $updateCategoryId, update: $update) {\n      _id\n    }\n  }\n`;\n\nconst CATEGORY_QUERY = gql`\n  query category($id: ID!) {\n    category(id: $id) {\n      ...categoryFragment\n    }\n  }\n  ${categoryFragment}\n`;\n\nexport const EditCategoryForm = ({ id, closeModal, refetch }) => {\n  const { data, loading } = useQuery(CATEGORY_QUERY, {\n    variables: { id },\n    fetchPolicy: \"network-only\",\n  });\n\n  const initialValues = prepareCategoryIntialValues(data);\n\n  const [updateCategory] = useMutation(UPDATE_CATEGORY_MUTATION);\n\n  const handleSubmit = async (values) => {\n    try {\n      await updateCategory({\n        variables: {\n          updateCategoryId: id,\n          update: prepareUpdateCategoryBeforSubmit(values),\n        },\n      });\n      closeModal();\n      refetch();\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  if (loading) return null;\n\n  return <CategoryForm onFinish={handleSubmit} initialValues={initialValues} />;\n};\n","import { useMutation, gql } from \"@apollo/client\";\n\nimport { CategoryForm } from \"./CategoryForm\";\nimport { prepareCreateCategoryBeforSubmit } from \"./utils\";\n\nconst ADD_CATEGORY_MUTATION = gql`\n  mutation createCategory($input: CategoryInput!) {\n    createCategory(input: $input) {\n      _id\n    }\n  }\n`;\n\nexport const AddCategoryForm = ({ closeModal, refetch }) => {\n  const [addCategory] = useMutation(ADD_CATEGORY_MUTATION);\n\n  const handleSubmit = async (values) => {\n    try {\n      await addCategory({\n        variables: {\n          input: prepareCreateCategoryBeforSubmit(values),\n        },\n      });\n      closeModal();\n      refetch();\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  return <CategoryForm onFinish={handleSubmit} />;\n};\n","import { useMutation, gql } from \"@apollo/client\";\n\nimport { DeleteButton } from \"../../../components/Button\";\nimport { useConfirmDeleteModal } from \"../../../hook/useCinfirmModal\";\n\nconst DELETE_CATEGORY_MUTATION = gql`\n  mutation deleteCategory($categoryId: ID!) {\n    deleteCategory(id: $categoryId)\n  }\n`;\n\nexport const DeleteCategoryBtn = ({ id, categoryName, refetch }) => {\n  const [deleteCategory] = useMutation(DELETE_CATEGORY_MUTATION, {\n    variables: { categoryId: id },\n  });\n\n  const showDeleteConfirmModal = useConfirmDeleteModal(\n    categoryName,\n    deleteCategory,\n    refetch\n  );\n\n  return <DeleteButton onClick={showDeleteConfirmModal} />;\n};\n","import * as R from \"ramda\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport { Table, Button } from \"antd\";\n\nimport { EditCategoryForm } from \"../CategoryForm/EditCategoryForm\";\nimport { ButtonWrapper, EditButton } from \"../../../components/Button\";\nimport { AddCategoryForm } from \"../CategoryForm/AddCategoryForm\";\nimport { useModalContext } from \"../../../providers/ModalProvider\";\nimport { DeleteCategoryBtn } from \"./DeleteCategoryBtn\";\nimport { categoryFragment } from \"../../price/PriceTable/PriceTable\";\n\nexport const CATEGORIES_QUERY = gql`\n  query {\n    categories {\n      ...categoryFragment\n    }\n  }\n  ${categoryFragment}\n`;\n\n// isSubcategory :: Object -> Boolean\nconst isSubcategory = R.propEq(\"__typename\", \"Subcategory\");\n\n// prepareCategoryData :: QueryData -> [Category]\nconst prepareCategoryData = R.compose(\n  R.map(\n    R.unless(\n      R.compose(R.either(R.isNil, R.isEmpty), R.prop(\"subcategories\")),\n      R.converge(R.mergeRight, [\n        R.dissoc(\"subcategories\"),\n        R.compose(R.objOf(\"children\"), R.prop(\"subcategories\")),\n      ])\n    )\n  ),\n  R.propOr([], \"categories\")\n);\n\nexport const CategoryTable = () => {\n  const { data, loading, refetch } = useQuery(CATEGORIES_QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n\n  const { showModal, handleCancel } = useModalContext();\n\n  const categories = prepareCategoryData(data);\n\n  const showAddCategoryModal = () =>\n    showModal({\n      title: \"Додати нову категорію\",\n      content: () => (\n        <AddCategoryForm closeModal={handleCancel} refetch={refetch} />\n      ),\n    });\n\n  const showEditCategoryModal = (id, categoryName) =>\n    showModal({\n      title: `Редагувати категорію ${categoryName}`,\n      content: () => (\n        <EditCategoryForm closeModal={handleCancel} refetch={refetch} id={id} />\n      ),\n    });\n\n  const columnsConfig = [\n    {\n      title: \"Назва\",\n      dataIndex: \"name\",\n    },\n    {\n      title: \"Націнка\",\n      dataIndex: \"markup\",\n    },\n    {\n      dataIndex: \"_id\",\n      render: (id, category) =>\n        isSubcategory(category) ? null : (\n          <ButtonWrapper>\n            <EditButton\n              onClick={() => showEditCategoryModal(id, category.name)}\n            />\n            <DeleteCategoryBtn\n              refetch={refetch}\n              id={id}\n              categoryName={category.name}\n            />\n          </ButtonWrapper>\n        ),\n    },\n  ];\n\n  return (\n    <>\n      <ButtonWrapper>\n        <Button type=\"primary\" onClick={showAddCategoryModal}>\n          Додати категорію\n        </Button>\n      </ButtonWrapper>\n\n      <Table\n        columns={columnsConfig}\n        dataSource={categories}\n        loading={loading}\n        rowKey=\"_id\"\n        pagination={false}\n      />\n    </>\n  );\n};\n","import * as R from \"ramda\";\nimport { Form, Input, Button } from \"antd\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useNavigate } from \"react-router\";\nimport { routes } from \"../../routes/config\";\n\nexport const LOGIN_MUTATION = gql`\n  mutation LOGIN_MUTATION($input: LoginInput!) {\n    login(input: $input) {\n      token\n    }\n  }\n`;\n\nexport const LoginForm = () => {\n  const [login] = useMutation(LOGIN_MUTATION);\n  const navigate = useNavigate();\n\n  const onFinish = async (values) => {\n    try {\n      const response = await login({\n        variables: {\n          input: values,\n        },\n      });\n\n      const token = R.pathOr(\"\", [\"data\", \"login\", \"token\"], response);\n      localStorage.setItem(\"token\", token);\n\n      setTimeout(() => navigate(routes.home), 500);\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  return (\n    <Form\n      name=\"basic\"\n      labelCol={{\n        span: 8,\n      }}\n      wrapperCol={{\n        span: 16,\n      }}\n      initialValues={{\n        remember: true,\n      }}\n      onFinish={onFinish}\n      autoComplete=\"off\"\n    >\n      <Form.Item\n        label=\"Користувач\"\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: \"Ім'я користувача обов'язкове!\",\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Пароль\"\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: \"Пароль обов'язковий!\",\n          },\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item\n        wrapperCol={{\n          offset: 8,\n          span: 16,\n        }}\n      >\n        <Button type=\"primary\" htmlType=\"submit\">\n          Увійти\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n","import styled from \"styled-components\";\nimport { LoginForm } from \"./LoginForm\";\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const LoginPage = () => {\n  return (\n    <Wrapper>\n      <LoginForm />\n    </Wrapper>\n  );\n};\n","import { LoginLayout, EmptyLayout } from \"../components/Layouts\";\nimport { MainLayout } from \"../components/MainLayout\";\nimport { CategoryPage } from \"../pages/category/CategoryPage\";\nimport { LoginPage } from \"../pages/login/LoginPage\";\nimport { PricePage } from \"../pages/price/PricePage\";\nimport { PublicPricePage } from \"../pages/price/PublicPricePage\";\n\nexport const routes = {\n  home: \"/\",\n  category: \"/category\",\n  login: \"/login\",\n  price: \"/price\",\n};\n\nexport const routesConfig = [\n  {\n    Layout: MainLayout,\n    rootPath: routes.home,\n    routes: [\n      {\n        path: routes.home,\n        Component: PricePage,\n      },\n      {\n        path: routes.category,\n        Component: CategoryPage,\n      },\n    ],\n  },\n  {\n    Layout: LoginLayout,\n    rootPath: routes.login,\n    routes: [\n      {\n        index: true,\n        path: routes.login,\n        Component: LoginPage,\n      },\n    ],\n  },\n  {\n    Layout: EmptyLayout,\n    rootPath: routes.price,\n    routes: [\n      {\n        index: true,\n        path: routes.price,\n        Component: PublicPricePage,\n      },\n    ],\n  },\n];\n","import { PriceTable } from \"./PriceTable/PriceTable\";\n\nexport const PricePage = () => <PriceTable />;\n","import { CategoryTable } from \"./CategoryTable/CategoryTable\";\n\nexport const CategoryPage = () => <CategoryTable />;\n","import { useQuery } from \"@apollo/client\";\nimport { Table } from \"antd\";\nimport { ButtonWrapper } from \"../../components/Button\";\n\nimport { ExcelExportPublick } from \"./PriceTable/ExcelExport\";\nimport { CATEGORY_QUERY, PRODUCTS_QUERY } from \"./PriceTable/PriceTable\";\nimport {\n  preparepProductData,\n  preparedProductSetData,\n  getCategoriesOptions,\n  getCategoryFiletrOptions,\n} from \"./PriceTable/priceTableUtils\";\n\nimport { priceTypes } from \"./PriceTable/priceTypes\";\nimport { getColumnSearchProps } from \"./PriceTable/textFilter\";\n\nexport const PublicPricePage = () => {\n  const { data, loading } = useQuery(PRODUCTS_QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n\n  const { data: categoriesData } = useQuery(CATEGORY_QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n\n  const { categories, subCategories } = getCategoriesOptions(categoriesData);\n\n  const productData = preparepProductData(data);\n  const productSetsData = preparedProductSetData(data);\n\n  const columnsConfig = [\n    {\n      title: \"Номенклатура\",\n      dataIndex: \"nomenclature\",\n      ...getColumnSearchProps(\"nomenclature\"),\n    },\n    {\n      title: \"Артикул\",\n      dataIndex: \"article\",\n      ...getColumnSearchProps(\"article\"),\n    },\n    {\n      title: \"Залишок\",\n      dataIndex: \"count\",\n      sorter: (a, b) => b.count - a.count,\n    },\n    {\n      title: \"Закупка дроп\",\n      dataIndex: \"dropPrice\",\n      sorter: (a, b) => b.dropPrice - a.dropPrice,\n    },\n    {\n      title: \"Продаж\",\n      dataIndex: \"sellingPrice\",\n      sorter: (a, b) => b.sellingPrice - a.sellingPrice,\n    },\n    {\n      title: \"Опт\",\n      dataIndex: \"wholesalePrice\",\n      sorter: (a, b) => b.wholesalePrice - a.wholesalePrice,\n    },\n    {\n      title: \"Тип\",\n      dataIndex: \"type\",\n      filters: [\n        {\n          text: priceTypes.PRODUCT,\n          value: priceTypes.PRODUCT,\n        },\n        {\n          text: priceTypes.PRODUCT_SET,\n          value: priceTypes.PRODUCT_SET,\n        },\n      ],\n      onFilter: (value, { type }) => type === value,\n    },\n    {\n      title: \"Категорія\",\n      dataIndex: \"category\",\n      filters: getCategoryFiletrOptions(categories),\n      onFilter: (value, { category }) => category === value,\n    },\n    {\n      title: \"Під Категорія\",\n      dataIndex: \"subcategory\",\n      filters: getCategoryFiletrOptions(subCategories),\n      onFilter: (value, { subcategory }) => subcategory === value,\n    },\n  ];\n\n  return (\n    <>\n      <ButtonWrapper>\n        <ExcelExportPublick price={[...productData, ...productSetsData]} />\n        <p>Продуктів: {productData.length} шт. </p>\n        <p>Наборів: {productSetsData.length} шт. </p>\n      </ButtonWrapper>\n\n      <Table\n        columns={columnsConfig}\n        dataSource={[...productData, ...productSetsData]}\n        loading={loading}\n        rowKey=\"_id\"\n        pagination={{ showTotal: (total) => `Кількість ${total} шт.` }}\n      />\n    </>\n  );\n};\n","import { Routes, Route } from \"react-router-dom\";\nimport { routesConfig } from \"./config\";\n\nexport const AppRouter = () => {\n  return (\n    <Routes>\n      {routesConfig.map(({ routes, rootPath, Layout }) => (\n        <Route key={rootPath} path={rootPath} element={<Layout />}>\n          {routes.map(({ path, index, Component }) => (\n            <Route\n              index={index}\n              key={path}\n              path={path}\n              element={<Component />}\n            />\n          ))}\n        </Route>\n      ))}\n    </Routes>\n  );\n};\n","import { ApolloClientProvider } from \"./providers/ApolloClientProvider\";\n\nimport \"./App.css\";\nimport { ModalProvider } from \"./providers/ModalProvider\";\nimport { AppRouter } from \"./routes/AppRouter\";\nimport { UserProvider } from \"./providers/UserProvider\";\n\nexport const App = () => (\n  <ApolloClientProvider>\n    <UserProvider>\n      <ModalProvider>\n        <AppRouter />\n      </ModalProvider>\n    </UserProvider>\n  </ApolloClientProvider>\n);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}